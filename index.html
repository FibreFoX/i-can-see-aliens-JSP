<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="JavaEE testing-project &quot;Aliens JSP&quot; : Testing with TomEE, JSP, CDI and a lot of Arquillian">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>JavaEE testing-project &quot;Aliens JSP&quot;</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/FibreFoX/i-can-see-aliens-JSP">View on GitHub</a>

          <h1 id="project_title">JavaEE testing-project &quot;Aliens JSP&quot;</h1>
          <h2 id="project_tagline">Testing with TomEE, JSP, CDI and a lot of Arquillian</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/FibreFoX/i-can-see-aliens-JSP/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/FibreFoX/i-can-see-aliens-JSP/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="i-can-see-aliens-jsp" class="anchor" href="#i-can-see-aliens-jsp" aria-hidden="true"><span class="octicon octicon-link"></span></a>I can see Aliens (JSP)</h1>

<p>After having the opportunity to finally get my tests running in one of my projects, i thought by myself:
    why not put all together in one testing-example-project having all kind of tests i find useful.</p>

<p>The result is what you are reading right now.</p>

<h2>
<a id="short-description-of-the-project" class="anchor" href="#short-description-of-the-project" aria-hidden="true"><span class="octicon octicon-link"></span></a>Short-description of the project</h2>

<p>I created a small billboard, where users can register themselves and add comments to the given billboard-entries. There is NO rights-management. Users can delete their accounts and delete their billboard-entries (this will delete the comments too). There is no authentification or anti-spam-technology included, its focused on "how to put tests into a project using a lot of Arquillian".</p>

<h2>
<a id="how-does-it-work" class="anchor" href="#how-does-it-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>How does it work</h2>

<p>I had to fiddle a lot with the dependencies (you can see my <a href="github.com/FibreFoX/cdi-sessionscoped-login">cdi-sessionscoped-login</a>-project from the last year), had to learn how maven-profiles are working (never created them first-hand), mostly because Arquillian brings no equal support for testing-frameworks, using JUnit seems to be the more stable than TestNG, but i really like TestNG, so i had to mix the testing-frameworks.
There was another problem: you can only have ONE "testing-container" in classpath for Arquillian, so i had to separate them into maven-profiles for better dependency-handling.
But there comes a downside: my current IDE (Netbeans) goes a little crazy, because when not selecting the right profile i see red lights on my test-packages, so you can get confused by thinking "oh my gosh, my tests are all broken...".</p>

<h2>
<a id="what-tests-are-included" class="anchor" href="#what-tests-are-included" aria-hidden="true"><span class="octicon octicon-link"></span></a>What tests are included</h2>

<p>Testing a software includes a lot of pain, when not having the right tools or not having enough knowledge how to write testable code. For having testable code, i tried to utilize CDI as much as possible and using producers for my scoped instances. Maybe there are a lot of reasons not to use producers like i did, but it works out for me. I tried to create the following types of tests:</p>

<ul>
<li>unit-tests <em>(using TestNG)</em>
</li>
<li>integration-tests <em>(using TestNG and Arquillian)</em>
</li>
<li>functional-tests <em>(using JUnit, Arquillian and Arquillian Drone/Graphene)</em>
</li>
<li>graybox-tests <em>(using JUnit, Arquillian, Arquillian Drone/Graphene and Arquillian WARP)</em>
</li>
</ul>

<h2>
<a id="used-frameworkssoftware-buzzword-bingo" class="anchor" href="#used-frameworkssoftware-buzzword-bingo" aria-hidden="true"><span class="octicon octicon-link"></span></a>Used frameworks/software (buzzword-bingo)</h2>

<ul>
<li>Maven 3.1</li>
<li>HTML 5</li>
<li>Twitter Bootstrap (for being hipster and responsive)</li>
<li>CDI (only one case where i used @EJB-annotation, because of unclear CDI-standard)</li>
<li>JavaEE 6</li>
<li>JPQL</li>
<li>EclipseLink (JPA 2)</li>
<li>TomEE</li>
<li>Arquillian</li>
<li>Arquillian Drone/Graphene2</li>
<li>Arquillian Warp</li>
<li>JaCoCo</li>
<li>ShrinkWrap</li>
<li>PhantomJS <em>(as browser for easy project-sharing and CI-systems like Jenkins)</em>
</li>
<li>SonarQube</li>
</ul>

<h2>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use</h2>

<p>First of all, you have to download the binaries i used for testing: <a href="http://phantomjs.org/download.html">http://phantomjs.org/download.html</a>
Put that corresponding files into "tools/phantom/YOUR-ARCH/" and check the pom.xml, if the paths are matching.
The default <code>mvn clean install</code> will only compile the project and will produce a fine WAR-file, but does not execute any test (because they are separated in respective profiles). I put a small helper (for windows-users) called <code>createAndAllTests.bat</code> which does nothing more than this</p>

<pre><code>mvn clean install
mvn test -Punit
mvn integration-test -Pintegration
mvn integration-test -Pfunctional
mvn integration-test -Pgraybox
</code></pre>

<h2>
<a id="plans-for-the-future" class="anchor" href="#plans-for-the-future" aria-hidden="true"><span class="octicon octicon-link"></span></a>Plans for the future</h2>

<p>Having to develop in teams often brings the problem with binaries, so i have chosen to put that binaries in a separated tools-folder, haven't found them on mvnrepository, but maybe in the future there will be a reliable source.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">JavaEE testing-project &quot;Aliens JSP&quot; maintained by <a href="https://github.com/FibreFoX">FibreFoX</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
